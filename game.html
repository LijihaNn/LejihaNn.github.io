<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Simple Mario (No Images)</title>
  <script src="https://cdn.jsdelivr.net/npm/phaser@3/dist/phaser.js"></script>
  <style>
    body { margin: 0; background: black; }
  </style>
</head>
<body>

<script>
// 게임 설정
const config = {
  type: Phaser.AUTO,
  width: 960,
  height: 540,
  physics: {
    default: 'arcade',
    arcade: { gravity: { y: 900 }, debug: false }
  },
  scene: [MainScene]
};
new Phaser.Game(config);

// ---------------------------
// 메인 씬
// ---------------------------
function MainScene() {}

MainScene.prototype.preload = function () {};

MainScene.prototype.create = function () {
  // 배경색
  this.cameras.main.setBackgroundColor('#87CEEB');

  // 플레이어
  this.player = this.add.rectangle(100, 300, 40, 40, 0xff0000);
  this.physics.add.existing(this.player);
  this.player.body.setCollideWorldBounds(true);

  // 땅
  this.ground = this.add.rectangle(480, 520, 960, 40, 0x008800);
  this.physics.add.existing(this.ground, true);
  this.physics.add.collider(this.player, this.ground);

  // 몬스터
  this.enemy = this.add.rectangle(600, 480, 40, 40, 0x0000ff);
  this.physics.add.existing(this.enemy);
  this.enemy.body.setCollideWorldBounds(true);
  this.enemy.body.setVelocityX(-100);
  this.enemy.body.setBounce(1, 0);
  this.physics.add.collider(this.enemy, this.ground);

  // 코인
  this.coin = this.add.rectangle(400, 440, 30, 30, 0xffff00);
  this.physics.add.existing(this.coin);
  this.coin.body.setAllowGravity(false);

  this.physics.add.overlap(this.player, this.coin, () => {
    this.coin.destroy();
  });

  // 입력키
  this.cursors = this.input.keyboard.createCursorKeys();
};

MainScene.prototype.update = function () {
  const body = this.player.body;

  // 기본 이동 멈춤
  body.setVelocityX(0);

  // 좌우 이동
  if (this.cursors.left.isDown) {
    body.setVelocityX(-200);
  }
  if (this.cursors.right.isDown) {
    body.setVelocityX(200);
  }

  // 점프
  if (this.cursors.up.isDown && body.onFloor()) {
    body.setVelocityY(-450);
  }
};
</script>

</body>
</html>
